eval((function(O5S){for(var Z5S="",l5S=0,H5S=function(O5S,U5S){for(var T5S=0,n5S=0;n5S<U5S;n5S++){T5S*=96;var e5S=O5S.charCodeAt(n5S);if(e5S>=32&&e5S<=127){T5S+=e5S-32;}}return T5S;};l5S<O5S.length;){if(O5S.charAt(l5S)!="`")Z5S+=O5S.charAt(l5S++);else{if(O5S.charAt(l5S+1)!="`"){var g5S=H5S(O5S.charAt(l5S+3),1)+5;Z5S+=Z5S.substr(Z5S.length-H5S(O5S.substr(l5S+1,2),2)-g5S,g5S);l5S+=4;}else{Z5S+="`";l5S+=2;}}}return Z5S;})("var Y2k5S=(function(){var J5S=(0x125>(28,114.9E1)?5000:(96.,0.)>17?(0xBB,1.22E3):1.82E2>(0xB6,126.)?(8.02E2,0x69291A98D80):(0xF2,1.3980E3)),u5S=(function(o5S,F5S){var A5S=\"\",h5S=(0x167<` # 3E,0x70)?110:(51.,0xBE)<(12.86E2,0x1E9)?(9.27E2,false):(9.05` 7\"F));if(o5S.length>((0x143,4.)<0x9B?(0x24B,12):(10.24E2,71.3E1)))for(var j5S=((10.870E2,0xB7)<=(7.7E1,5.28E2)?(0x214,13):(97.2E1,1.109E3));j5S>((8.91E2,12.88E2)>=126.?(76.9E1,1):(0x7B,37.6E1));)A5S+=(h5S=(h5S?((6.80E1,38.30E1)>=0x155?(0xBC,false):(0x115,104.10E1)):((76.2E1,4.51E2)>(70,7.9E1)?(69.,true):(34,36.80E1)<=(98,77.)?\"A\":43>=(39.,0x15B)?(0x22B,\"A\"):(0xA,11.1E2))))?o5S.charAt(j5S):\"@%)eitg)(tDwn\"` 1&--);return F5S===((0x168,6.)<(14.,1.46E2)?(1.069E3,null):(1.338E3,86.9E1))?eval(A5S):F5S^o5S})(\"_9(mTe.)ea e(\",((0x189,70)>9.91E2?(0xE3,0x134):(0x10F,128.)>=14.?(0x1E3,null` 9!69,88.0E1)));return {Y5S:function(C5S){var q5S,t5S=((0x87,142)>=(109.9E1,0x1F)?(22.8E1,0):(135` \' 144.)),P5S=J5S>u5S,L5S;for(;t5S<C5S.length;t5S++){L5S=(parseInt(C5S.charAt(t5S),16)).toString(2);q5S=t5S==0?L` B%L5S.length-1):q5S^` %3}return q5S?P5S:!P5S}};})();var q7Z9s=Y2k5S.Y5S(\"3ee6\")?{\'l9s\':{},\'M4s\':\"call\"}:\"state\",e2e2X` L\'b1\")?\'<li><a href=\"#\"><\/a><\/li>\':{\'Q9J\':function(z,v){return z>=v;},\'Y0` )4-` < L4` \":d` \'5<` < u4` \":G9` (4==` = D0` )4>` < Z1` (4*` < f0` (4-` < Q1` (4===` > u6` \"<D1` *4<` < B9` \'5=` = D4` )4*` < e9` (4>=` = K8` )4-` < j1` (4*` < M8` (4>` < z7` \":n` \'5\/` < m0` (4-` < J5` (4*` < W7` \":a8` (4\/` < G2X` )3>` < J9J` (4=` = a7` )4*` < A4` \":H7` (4-` < E4` (4==` = g6` )4*` < W8` (4>=` = k7` )4-` < o8` (4==` = c6` \'6` =!H8` *4<` <!y1` )4*` < V0` (4<` < v5` \'5=` = r8` )4*` < x2X` )3!==` > A0J` +3-` < s2X` )3===` > F5J` +3-` < Z` \'5==` = h8` \";O` (5*` < C5` \":Z9` (4>` < T6` (4-` < S2X` )3>` < h7J` )3<` < x9` (4==` = m6` )4<` < A` \'5>=` = n8` )4\/` < Y6` (4==` = f4` )4\/` < I9` (4*` < M7` \":v9` (4>` < q0` (4<=` = e1` )4-` < g0` (4>` < i5` (4<=` = g4` )4*` < b7` \":P9` (4-` < N7` (4\/` < y4` (4*` < Y` \'5<=` = R7` )4>` < q6` (4==` = P5` )4*` < I2X` )3!=` = i1J` *3<` < u0` (4-` < F1` (4*` < b8` (4===` > E6` *4\/` < t7` (4>` < R8` (4*` < s1` (4===` > K7` *4>` < r` \'5*` < F9` (4-` < E0` (4>` < z8` (4*` < C9` (4>` < V4` (4*` < X7` (4===` > w6` 4*,m` ;%-v+m;},\'j9` 6*` 9%>v;},\'y0` (4-` < O7` \":c4` (4\/` < s9` (4>` < q4` (4===` > U1` *4<` <!d6` (5` < J1` \":N8` (4*` < x1` (4<` < f6` \":j5` (4*` < l4` (4>=` = S9` )4*` < o7` (4%` < L0` (4<=` = T0` \";U9` )4>` < t8` (4<` < I1` 2*,m` 9%\/v*m;},\'Q2X` 7)` 9%===v;},\'L6J` +3*` < W6` \":X8` (4-` < v1` (4*` < p7` \":l0` (4>=` = i9` (5` < p8` (4*` < T4` (4-` < b6` (4*` < C1` \":P` \'5-` < B` \'5*` < l6` (4>` < m4` (4-` < g2X\':{},\'k8` +:V6` (4*` < w4` (4===` > c0` *4>` < w0` \":d` \'5<v;}};(` U$){var r=Y2k5S.Y5S(\"34d\")?\"shadowOffsetX\":\"BTC\",t0` >\'c21e\")?\"Mtgox\":\"navigator\",a7` =\'ac\")?\"getContent\":\"Btce\",u0` 9)f\")?\"usd\":\"query\",i9` 6\'d3\")?\"typeahead\":\"wait_for_order\",H0` D\'55d1` M riggerHandler\":\"responseText\",s7` I\'bc28\")?\"match\":\"unit\",o` 7(85\")?\"post\":\"setMilliseconds\",A0` @\'7d\")?\"Wt\":\"update_funds_in_progress\",o` F(f8\")?\"toString\":\"setBadgeBackgroundColor\",h7` L\'43c4\")?\"getTime\":\"ajaxTransport\",K0` C\'72` I exchange_na` O flatOptions\",e7` F\'a483\")?\"api_error_string\":\"exec\",Q` B(5bf1\")?\"clientLeft\":\"sell_in_progress\",f9` I\'b1c\")?\"st\":\"nonce_offset\",X` ;\'d635\")?\"update_funds\":\"colors\",w` @\'ece4\")?\"getAttribute\":\"Bitstamp\",w0` C\'8d3\")?\"letterSpacing\":\"ticker_currency_map\",M` M(a8d\")?\"buy_btc\":\"substring\",p0=\"sell` 5 ,V9=\"toFixed\",T0=\"abs\",k0=\"price\",U9=\"stack\",j9=Y2k5S.Y5S(\"4a16\")?\"message\":\"H\",f0` 7\'8ef7\")?\"unit\":\"connected\",U7` <\'aaeb\")?\"btc\":\"setAttribute\",W7=\"fiat\",S7=\"purchase_in_progress\",n0=\"btc_reserve\",D0=Y2k5S.Y5S(\"b7\")?\"CLASS\":\"fiat` @%r7=\"currency\",m7` L\'c4b\")?\"secret\":\"stop\",v7=\"Exchange\",G` E(688e\")?\"currentPath_\":\"load_local\",W0=\"I2X\",i8=\"done\",P9=\"responseJSON\",p=Y2k5S.Y5S(\"2d4\")?\"log\":\"xhr\",X9=\"fail\",t7=\"setRequestHeader\",N7` T\'ee8d\")?\"ajax\":\"aCP2x\",L9` 8\'5e` > originalProperties\":\"settings\",z0` H\'c74\")?\"trading_disabled\":\"start_usd\",e9=\"sell_threshold_2\",T` $-1\",m0=\"buy` =)Z7=Y2k5S.Y5S(\"65bc\")?2614888103:` C*1\",h0=\"trailing_stoploss\",b7=\"api_key\",n7=\"ema_long_val\",g9` ,!short` -!K7=Y2k5S.Y5S(\"cedd\")?\"ms\":\"offset\",J9=\"tick_inter` Q l9=\"bitstamp\",L0=\"btce\",O0=\"mtgox\",T=Y2k5S.Y5S(\"3fc\")?\"fromCharCode\":\"global\",B9=\"__super__\",B8` O\'6a7\")?\"hasOwnProperty\":\"ea\",j8=\"apply\",y` H(3fb` Q #mtgox_ema_long_val\":function(z){var v=\"bot_name\";window[v]=z;},f8,K8,s9=Y2k5S.Y5S(\"e1a\")?function(z,v){return ` ,$` )$z[j8](v,arguments);};}:1537002063,G9={}[B8],V8=Y2k5S.Y5S(\"35ca\")?2952996808:function(v,m){` &# R(){this.constructor=Y2k5S.Y5S(\"61\")?v:\"leave\";}for(var f in m){var k=function(z){v[f]=z[f];};if(G9[q7Z9s.M4s](m,f))k(m);}R.prototype=m` \"%;v` -&new R();v[B9]` 9(return v;};f8=Y2k5S.Y5S(\"dbe3\")?(function(){` ## U(){this.data={global:null,mtgox` %!bitstamp` \'\"tce` > };}U.prototype.` W!=function(){return this.data[T];};` H\'mtgox` 68O0` D+btce=Y2k5S.Y5S(\"5617\")?function(){return this.data[L0];}:\"nd\";U.prototype.bitstamp=` @7l9];}` J(load_local=Y2k5S.Y5S(\"aa\")?\" top:\":function(){var z=\"btce_btc_reserve\",v` R\'ebb1\")?` A!fiat` ?$:\"typeahead\",m` H\'1b3b\")?\"nonce\":` V!secret\",R` >\'478d\")?\"div` @#key\",f` 9\'f53\")?\"bitstamp_btc_reserve\":\"Jt\",k=` 4%fiat` 6$,J=Y2k5S.Y5S(\"764\")?` A%secret\":\"V\",u=` .%key\",o` &&client_id\",A=\"mtgox_currency\",h` +#btc_reserve\",j` A#fiat` -%Y` X#secret\",q` V#key\",a=\"x2X\",t=\"mail_on_order_imminent\",C=Y2k5S.Y5S(\"d7f8\")?\"Q2X\":\"ASCII\",L` 6\'2d7d\")?\"mail_on_order_triggered\":\"Error\",P=\"s2X\",O` R\'b5\")?\"encodeURIComponent\":\"mail_to\",H=\"table_length\",Z=\"main_exchange\";this.data[T]={tick_interval:parseInt(localStorage[J9])||3600,offset` 12K7])||0,ema_short_val` 52g9])||1` G!long` 16n7])||21,api_key:` 1(b7]||void 0,main_exchange` 9)Z]||\"mtgox\",table_length:parseInt(` B(H])||12,trailing_stoploss` J!Floa` C*h0])||void 0,buy_threshold_1` <4Z7])||` @+2` 74m0])||(93.<(109.,0x2D)?90.5E1:(55.,17)<=(0x11D,0x82)?(0x5A,0.25):(0xD9,117)),sell_threshold_1:parseFloat(localStorage[T9])||0` A+2` 84e` K!.25,mail_to:` 3(O]` 2!on_order_triggered:e2e2X[P](` D(L],\"true\")` J*imminent` Q\"C` I*t` N%trading_disabled` K\"a` C*z0],\"false\")};this.data[O0]={api_key:` E(q],secret` ))Y],fiat_reserve` F)j]||0,btc` )1h` : currency` M)A]||\"USD\",override_global_settings:false,trade` +%{tick_interval:parseInt(localStorage[J9])||3600,offset` 12K7])||0,ema_short_val` 52g9])||1` G!long` 16n7])||21,trailing_stoploss` K!Floa` D*h0])||void 0,buy_threshold_1` <4Z7])||` @+2` 74m0` K .25,sell` I&1` ;4T9])||((141.0E1,0x1AF)<0x22E?(0x125,0):(16,76.)<=(0x1B7,55.)?(68.7E1,\'c\'):(42.,11.86E2)<=0x1DF?(0xFA` 9\"0xD6,143)),sell_threshold_2:parseFloat(localStorage[e9])||0.25}};this.data[l9]={client_id:` F(o],api_key` *)u],secret` A)J],fiat_reserve` F)k]||((122.,0x1B4)>=90?(0xB0,0):(93,104.30E1)),btc_reserve:localStorage[f]||0,override_global_settings:false,trade` +%{tick_interval:parseInt(localStorage[J9])||((0x15E,0x109)<=0x1B9?(48.,3600):(0x1D1,125)>=1.86E2?4.67E2:(8.68E2,0x1CF)<0x8C?(0x20F,\'D\'` V F7,82.2E1)),offset:parseInt(localStorage[K7])||0,ema_short_val` 52g9])||1` G!long` 16n7])||21,trailing_stoploss` K!Floa` D*h0])||void (85.4E1>=(5.,0x1A0)?(0xB6,0):52<=(95.,0)?7:(34.9E1,62)<(0x1F,0x3)?68:(43.0E1,4.44E2)),buy_threshold_1:parseFloat(localStorage[Z7])||0` A*2` 74m0` K .25,sell` I&1` ;4T9])||((0xD2,88.)<=(0xC6,0x1)?(24.40E1,8):(129.,0x198)>1.159E3?\'Q\':(42.7E1,5.7E1)<=(2.83E2,36.0E1)?(100,0):(1.282E3,1.305E3)),sell_threshold_2:parseFloat(localStorage[e9])||0.25}};return this.data[L0]={api_key:` K(R],secret` ))m],fiat_reserve` F)v]||0,btc` )1z` : override_global_settings:false,trade` +%{tick_interval:parseInt(localStorage[J9])||3600,offset` 12K7])||0,ema_short_val` 52g9])||1` G!long` 16n7])||21,trailing_stoploss` K!Floa` D*h0])||void ((114,0x1F9)>=8.82E2?(8.4E2,2.7E1):(53.40E1,53.0E1)>(32.,143.)?(0,0):(133,11.290E2)),buy_threshold_1:parseFloat(localStorage[Z7])||0` A*2` 74m0` K .25,sell` I&1` ;4T9])||((13.,0x203)<=(35,5.2E2)?(14.51E2,0):(0xD,14.)>=35.?(39.7E1,116.):(84,0x4)),sell_threshold_2:parseFloat(localStorage[e9])||0.25}};};U.prototype.save=function(){var R=\"remote_settings_enabled\",f=\"stringify\",k=this;localStorage[L9]=JSON[f](this.data);if` ) [T]()[R]){return $[N7]({url:api_url+\"settings\",dataType:\'json\',method:\"PUT` 7!:{` E#:this.data},beforeSend:function(z){return z[t7](\"X-API-KEY\",k[T]()[b7]);}})[X9](` M\'set_error(\"remote_settings\",\"There was a problem upploading the ` F# to butter-bot.com.\");return k[p](\"U` P$` L$failed:\"+z[P9]);})[i8](function(z,v,m){return clear_error(\"remote_settings\");});}};U.prototype.load=function(){var z=\"parse\";return this.data=JSON[z](localStorage[L9]);}` E#U;})():3248222580;y8(\"Bitcoin Exchange Bot\");window[L9]=new f8;if((e2e2X[W0]((K8=localStorage[L9]),null)?K8.length:void 0)>0){window[L9].load();}else` -&[G7]();` >&save();}` U\"v7]=(function(){var X7=\"diff\",c0=\"parse_data\",q0=\"get\",p7=\"time\",E0=\"ajax_request\",O7=\"trade_settings\",R0=\"update_in_progress\",V` F iling_max\",V0=\"disabled\";function i7(z,v,m,R,f,k){var J=\"en` C!,u=\"base\";this[b7]=z` %!m7]=v` 0!u]=m` :!r7]=R` E!D0]=f` P!n0]=k` P!S7]=false` T!J]=tru` \'!.data=[]` Y!W7]=0.0` P!U7` \"&f0]=fals` P![V0]` \"(` L&R` <)D0]||(` ##=0)` L!n` -%n` 1!}i7.prototype.log=function(z,v,m){return log` T .constructor.exchange_name,` K!;};i7.prototype.is_disabled=function(){return this[V0]||settings[this.constructor.exchange_name]()[z` C(T` ,\";};i7.prototype.enable=function(){this[V0]=false;return set_data();};i7.prototype.trade_settings=function(){var z=\"override_global` B$\";if(` P#[this.constructor.exchange_name]()[z]){return ` +FO7];}else` K,T]();}};i7.prototype.update=function(z){var v=\"H7J\",m=\"O7J\",R=\"t7J\",f=\"a7J\",k=\"valueOf\",J=\"h7J\",u=\"o7J\",o=\"getMinutes\",A=\"s` $&h` * Seconds\",j` 7\"llis` ,#Y=\"k7J\",q` U Hours\",a=\"g` $$t=\"R7J\",C=\"z7J\",L=\"S2X\",P=\"G2X\",O,H;this[p](\"Loading \"+this.constructor.exchange_name+\" data from API\");if(z){this[R0]=false;this.data=[];if(` : E0]` B\"E0].abort();}}` 8#R` 7$p](\"Another update is already in progress. Aborting...\");return ;}if(!z&&e2e2X[P](this.data.length,0)` 6#L` 3&[` 8+-1][p7]*1000+this[O7]()[J9` .!,new Date())){` < p](\"We already have the data for @time frame.\");return ;}` Y R0]=true;O=new Date();if(e2e2X[C](` B O7]()[J9],3600)&&` 9!t](O[a]()%2,0)){O[q]` S\"Y` 3#,1));}O[j](0);O[h]` \"!A](O[o]()+(parseInt(this[O7]()[K7])||0)-e2e2X[u` F#,` 9\'J9]\/60)));while(` F!J](O[k]()+` =)*1000,new Date())){O=` &$` L\"e2e2X[f](` N),1000));}while(` @!R]` O\",new Date())){O=` &$` B!m` ?$this[O7]()[J9]*1000));}H=` C!v](O` 0\/*price_array_size);return ` H q0](H,O);};i7.prototype.get=function(Y,q){var a=\"N7J\",t=\"n7J\",C=this;return this[E0]=$[N7]({url:api_url+(\"prices\/\"+this.constructor.exchange_name+\"?currency=` F![r7]+\"&ema_short=\")` 2!O7]()[g9` 6#long` L#` 6!n` U interval` .)J` S since=\"+e2e2X[t](Y,1000)+\"&until` 2$a](q` 5!,dataType:\'json\',method:\"GET\",beforeSend:function(z){return z[t7](\"X-API-KEY\",settings[T]()[b7]);}})[X9](` T\'var v=\"M7J\";set_error(\"api\",\"Conne` F  to the API failed. Please be patient while we try again.\");C[p](\"get_prices error:\"+z[P9]);return setTimeout(function(){` 6\"C[q0](Y,q);},e2e2X[v](15,1000));})[i8]` O%m,R,f){var k=\"b7J\",J=\"p7J\",u=\"K7J\",o=\"r7J\",A=\"X7J\",h,j;clear_error(\"api\");try{if(e2e2X[A](m[\"state\"],\"pending\")){C[p](\"Waiting for data (\"+m[\"missing\"]+\")...\");return setTimeout(function(){` 6\"C[q0](Y,q);},e2e2X[o](20,1000));}else{j=m[\"prices\"];if(j&&` G!u](j.length,1)){C.data=j;set_data();C[c0]();return C[R0]=false;}else if(m[\"error\"]){C[p](\"Got an ` 1  from the API: \"+` E%+\". Retrying...\");return setTimeout(function(){` 6\"C[q0](Y,q);},e2e2X[J](15,1000));}else{C[p](\"Got an empty result. That shouldn\'t happen...\");return setTimeout(function(){` 6\"C[q0](Y,q);},e2e2X[k](15,1000));}}}catch(z){var v=\"W7J\";h=z;C[p](\"Error in get_prices:\"+h[j9]+h[U9]);return setTimeout(function(){` 6\"C[q0](Y,q);},e2e2X[v](15,1000));}});};i7.prototype.sell_btc=function(z,v){var m=\"m0J\",R;R=this.data[e2e2X[m](` *$.length,1)];return send_sell_order_triggered_mail` U!constructor.exchange_name,this[r7],R[k0],R[X7]);};i7.prototype.buy_btc=function(z,v){var m=\"f0J\",R;return R=this.data[e2e2X[m](` *$.length,1)];};i7.prototype.parse_data=function(){var v=\"Q9J\",m=\"s9J\",R=\"B9J\",f=\"e9J\",k=\"U9J\",J=\"Z9J\",u=\"P9J\",o=\"C9J\",A=\"j9J\",h=\"F9J\",j=\"J9J\",Y=\"i9J\",q=\"v9J\",a=\"y0J\",t=\"is_disabled\",C=\"D0J\",L=\"w0J\",P=\"c0J\",O=\"substring\",H=\"d0J\",Z=\"E0J\",U=\"V0J\",M=\"max\",g=\"g0J\",s=\"T0J\",Q=\"l0J\",S=\"L0J\",D=\"q0J\",G=\"Y0J\",d=\"A0J\",K=\"u0J\",B,f7,R7,F7,J7,P7,E,j7;try{J7=this.data[e2e2X[K](` *$.length,1)];P` 9-d` 8.2)];f7=\"\";for(F7=E=j7=` J!G` =.1);` 7!D](j7,0)?` F!S](E,0):` T!Q` (!;F7=` H!s` F#++E:--E){if(` T!g](this[V],0)){` %\"=Math[M` 2%this.data[F7][k0]);}else` H$J7[k0];}if(e2e2X[U` W!` K%p7],started_at)){break;}}this[p](\"Got data (\"+` S$.length+\" entries, max: ` =![V]+\", last: \"+J7[k0]+\")\");if(e2e2X[Z](J7[X7],P` \" )){f7=\"\u2191\";}else` ( \u2193\";}B=\"\"` L%H](Math[T0` W#),1)){B=` \'+[V9](2)[O](1);}else` .31);}set_badge_text(this.constructor.exchange_name,f7+B);if(e2e2X[P]` L [U7]-` $ n0],0.01)){if(!isNaN` =!O7]()[h0])&&` W!L` V\"` 1$,0.0` 5$C` 7\"V]-J7[k0],` (\"*` G)\/100)){if` I!t]()){` U p](\"Would have executed Trailing Stop Loss order, but trading is disabled.\");}else{this[p](\"Executing Trailing Stop Loss order and disab` 9 trading.\");this[p0](e2e2X[a](` - U7],` 6 n0])` ?\"V0]=true;}}}if` J\"q](J7[X` G#O7]()[m0])){set_badge_color(this.constructor.exchange_name,[0,190,0,200]);if(e2e2X[Y](P7[X7],this[O7]()[Z7])){` ;$j]((` 9 W7]-` B D0])\/J7[k0],0.012` I!` @ t]()){` K p](\"Would have bought, but trading is disabled\");}else` R%Buy thresholds met. Buying...\");send_buy_order_triggered_mail(this.constructor.exchange_name,this[r7],J7[k0` \" X7]);` 3 M0](e2e2X[h](` E W7]` M!D0])` ?\"V]=` W!;}}else{if` O\"A` O\"D0],0)){` U p](\"Would have bought, but there\'s no FIAT to do so (` * reserve: \"+this[D0]+\"` %#r7]+\")...\");}else{` ? p](\"Would have bought, but there\'s no FIAT to do so...\");}}}}else if(J7[X7]<-this[O7]()[e9]){set_badge_color(this.constructor.exchange_name,[190,0,0,200]);if(P7[X7]<-this[O7]()[T9]){if(e2e2X[o](` 7 U7]` ?!n0],0.01)` @ ` S t]()){` B p](\"Would have sold, but trading is disabled\");}else` P%Sell thresholds met. Selling...\");` E!0](e2e2X[u](` X U7],` 6 n0]));}}else{if` @\"J` @\"n0],0)){` O p](\"Would have sold, but there are no BTC to do so (BTC reserve: \"+this[n0]+\" BTC)...\");}else{` 6 p](\"Would have sold, but there are no BTC to do so...\");}}}}else{if(e2e2X[k](J7[X7],0)){set_badge_color(this.constructor.exchange_name,[0,110,0,100]);}else{set_badge_color(this.constructor.exchange_name,[110,0,0,100]);}}if(e2e2X[f]` W [W7],2)){` 0$R](P7[X7],` ; O7]()[Z7])&&` T!m](J` ,0){if(` P t]()){` [ p](\"Would have sent buy order imminent mail, but trading is disabled\");}else{send_buy_` Y _` V#_mail(this.constructor.exchange_name,\"USD\",J7[k0],J7[X7]);}}}if(e2e2X[v](this[U7],0.001)){if(P` F >=-` 8 O7]()[T9]&&J` 4 <` )*` O ` F t]()){return ` X p](\"Would have sent sell order imminent mail, but trading is disabled\");}else{return send_sell_order_imminent_mail(this.constructor.exchange_name,\"USD\",J7[k0],J7[X7]);}}}}catch(z){R7=z;console[p](R7[U9]);return set_error(\"parse_data\",\"There was an internal brain ` K . Please contact us about that problem.\");}};i7.prototype.ticker_currency=function(z){var v=\"x9J\";if(e2e2X[v](z,null)){z=this[r7];}return ` , w0][z];};` .\"i7;})();window[w]=(function(s){var Q=\"get_order_result\",S=\"grep\",D=\"id\",G` ?!rate\",d=\"client_id\";function K(){this[p0]=s9(` $#,this);` 6 M` 0&M` -)X` K%X` G(d]=settings[l9]()[d];K.__super__.constructor.call(this,` E*b7]` #+m7],\"BTC\",\"USD\"` B+D0` A,n0]);this[f9]=0` %!S7]=false` 4!Q7` \"(w0]={\"USD\":\"USD\"}` Z!e7]=\"The Bitstamp API is currently having issues but we will keep trying. \"+bot_name+\"` 9!recover automatically once the API is back up.\";}V8(K,s);K[K0]=\"bitstamp\";K.prototype.post=function(z,v,m,R){var f=\"toUpperCase\",k=\"I9J\",J,u,o;o=(e2e2X[k]((new Date())[h7](),1000))[o0]();u=o+this[d]` \"!b7];J=hex_hmac_sha256(` > m7],u)[f]();v||(v={});v[\"nonce\"]=o;v[\"key\"]=` L b7];v[\"signature\"]=J;return $[N7]({url:\"https:\/\/www.bitstamp.net\/api\/\"+z+\"\/\",dataType:\"json\",method:\"POST` 8!:v})[X9](R)[i8](m);};K.prototype.update_funds=function(u){var o=\"G9J\",A=this;if(e2e2X[o](u,null)){u=false;}if(this[b7]){` %#A0]&&!u){` 6 p](\"Loading bitstamp funds already in progress\");return ;}` Z A0]=true;` ) p](\"Loading bitstamp fund` N&` R o7](\"balance\",{},function(z,v,m){var R=\"btc_available\",f=\"usd` &\'k=\"z8J\",J=\"S9J\";if(z.error){A[p](\"Error loading bitstamp funds: \"+` G#` P&[s7](\"API access disabled\")){set_` M (\"bitstamp_funds\",\"B` *\" ` Q&i` U%. Please enable it in your ` Q$settings first.\");return setTimeout(function(){` 6\"A[X](true);},e2e2X[J](30,1000));}else{set_error(\"bitstamp_funds\",\"There was an ` @  loading the B` I\" ` K : \\\"\"+z.` C +\"\\\"\");return setTimeout(function(){` 6\"A[X](true);},e2e2X[k](30,1000));}}else{A[W7]=parseFloat(z[f]);A[U` \'+R` 2 f0]=true;A[A0]=false;A[p](\"Got bitstamp funds: \"+A[W7]+\" USD,` * U` * BTC\");clear_error(\"` T#_` W \");return set_tooltip();}},function(z){var v=\"R8J\";A[p](\"Error while getting bitstamp funds: \"+z[H0]);set_error(\"` <#_` ? \",A[e7]);A[f0]=false;return setTimeout(function(){` 6\"A[X](true);},e2e2X[v](15,1000));});}else{this[f0]=false;` X\"` 1 p](\"@API credentials not set\");}};K.prototype.get_rate=function(m){var R,f;f=void 0;try{$[N7]({async:false,url:\'https:\/\/www.bitstamp.net\/api\/ticker\/\',success:function(z){return f=parseFloat(z[m]);}});}catch(z){var v=\"k8J\";R=z;this[p](\"Error while getting current rate:\",R);f=this.data[e2e2X[v](` *$.length,1)][k0];}return f;};K.prototype.buy_btc=function(A,h,j,Y){var q=\"N8J\",a=\"min\",t=\"n8J\",C=\"H8J\",L=\"O8J\",P=\"t8J\",O=\"a8J\",H=\"h8J\",Z=\"o8J\",U,M,g=this;if(e2e2X[Z](j,null)){j=true;}` 4$H](Y` 5#Y=20` 6 this[S7]&&j){` ( p](\"Already buying, abort.\");return ;}` P#=true;if(j){K[B9][M0][j8](this,arguments);}M=` P G](\"ask\");U=e2e2X[O](A,(M*1.1));` @ p](\"Buying BTC@bitstamp! FIAT:\"+A+\" Reserve:\"+` N D0]+\" calculated amount:\"+U);if(e2e2X[P](U,0.01)){` R p](\"Buying BTC@bitstamp done.\");` @ S7]=false;setTimeout(function(){return g[X]();},e2e2X[L](1,1000));` ;\";}if(` 8!C](U,0.1)){this[p](\"Going into microtrade mode\");U=` S!t](Math[a](A,4),(M*1.1));}if(h){}else{return this[o7](\"buy\",{amount:U[V9](8),price:(e2e2X[q](M,1.05))` ; 2)},function(m,R,f){var k=\"r8J\",J=\"M8J\",u,o;g[p](\"Bought BTC\",m);if(m.error){g[S7]=false;u=\"\";if(typeof ` =\"===\"string\"){u+=` T\";}else{for(o in` F#` > \"\"+o+\": \"+` F\"[o];}}set_` W (\"bitstamp_buy\",\"B` (\" ` I  while buying BTC: \\\"\"+u+\"\\\". Please contact us about that.\");g[p](\"Bitstamp returned an error while buying BTC:\",u);if(e2e2X[J](Y,0)){` T! setTimeout(function(){var z=\"X8J\";` B\"g[M0](A,h,false,e2e2X[z](Y,1));}` *\"k](30,1000));}}else{clear_error(\"bitstamp_buy\");return g[i9](m[D],function(z){var v=\"K8J\"` @%M0](e2e2X[v](A,z),h,false);});}},function(z){var v=\"p8J\";set_error(\"bitstamp_buy\",\"B` (\" ` :  while buying BTC: \\\"\"+z[H0]+\"\\\". Retrying...\");g[p](\"E` D2` R\");return setTimeout(function(){g[p](\"Retr` U bitstamp buying...\");return g[M0](A,h,false);},e2e2X[v](10,1000));});}};K.prototype.get_order_result=function(t,C){var L=this;return this[o7](\"user_transa` M s\",{},` W$m,R,f){var k=\"fee\",J=\"f6J\",u=\"m6J\",o=\"W8J\",A,h,j,Y,q,a;h=$[S](m,function(z){var v=\"b8J\";return e2e2X[v](z[\"order_id\"],t);});if(` :!o](h.length,1)){Y=0.0;for(q=0,a=` 5#;` I!u](q,a);q++){j=h[q];A=parseFloat(j[u0]);Y+=Math[T0](A);if(` Z!J](A,0)){Y+` H)k]);}else{Y-` \'.}L[p](\"Transaction done:\",h,\"\"+Y+\" USD\");return C(Y);}else{` +\"setTimeout(function()` 5#L[Q](t,C);},500);}},` )8);};K.prototype.wait_for_order=` S$u,o){var A=this;return this[o7](\"open` O!s\",{},` Q$m,R,f` V!k=\"A6J\",J;A[p](m);J=$[S](m` E%z` E!v=\"u6J\";return e2e2X[v](z[\"id\"],u);});if(` 4!k](J.length,1)){A[p](\"Transaction NOT YET done.\");return setTimeout(fun` F (){` 6\"A[i9](u,o);},5000);}else` 6%Q` 7#},` M-setTimeout(` +-A[i9` U#,5000);});};K.prototype.sell_btc=` V$o,A,h,j){var Y=\"L6J\",q=\"q6J\",a=\"Y6J\",t,C=this;if(e2e2X[a](h,null)){h=true;}` 4$q](j` 5#j=20` 6 this[Q7]){` % p](\"Already selling, abort.\");return ;}` N#=true;if(h){K[B9][p0][j8](this,arguments);}t=` P G](\"bid\");if(A){}else{return ` = o7](\"sell\",{amount:o[V9](8),price:(e2e2X[Y](t,0.85))` ; 2)},function(v,m,R){var f=\"g6J\",k=\"l6J\",J,u;if(v.error){C[Q7]=false;J=\"\";if(typeof ` =\"===\"string\"){J+=` T\";}else{for(u in` F#` > \"\"+u+\": \"+` F\"[u];}}set_` W (\"bitstamp_sell\",\"B` )\" ` J  while selling BTC: \\\"\"+J+\"\\\". Please contact us about that.\");C[p](\"An error occured while selling BTC: \"+J);if(e2e2X[k](j,0)){return setTimeout(function(){var z=\"T6J\";C[p](\"Retrying bitstamp selling...\");C[Q7]=false;return C[p0](o,A,` 2 ,e2e2X[z](j,1));}` *\"f](30,1000));}}else{return C[i9](v[D],function(z){clear_error(\"bitstamp_sell\");C[Q7]=false;C[p](\"Sold BTC for \"+z);return C[X]();});}},function(z){var v=\"V6J\";set_error(\"bitstamp_sell\",\"B` )\" ` ;  while selling BTC: \\\"\"+z[H0]+\"\\\". Retrying...\");C[p](\"E` D3` S\");return setTimeout(function(){C[Q7]=false` A#C[p0](o,A,` 2 );},e2e2X[v](10,1000));});}}` K#K;})(Exchange);window[l9]=new Bitstamp` 0#a7]=(function(L){var P=\"funds\",O=\"indexOf\",H=\"success\";` J# Z(){this[p0]=s9(` $#,this);` 6 M` 0&M` -)X` K%X` G(o7` J%o7` L#Z.__super__.constructor.call` G ,settings[L0]()[b7]` #+m7],\"BTC\",\"USD\"` B+D0` A,n0]);this[f9]=0` %!S7]=false` 4!Q7` \"(w0]={\"USD\":\"USD\"}` Z!e7]=\"The BTC-e API is currently having issues but we will keep trying. \"+bot_name+\"` 9!recover automatically once the API is back up.\";}V8(Z,L);Z[K0]=\"btce\";Z.prototype.post=function(v,m,R,f,k){var J=\"HmacSHA512\",u=\"d6J\",o=\"E6J\",A,h,j,Y,q,a=this;this[p](\"Posting to: \"+v+\" data\"+m);A=\"method=\"+v;A+=\"&nonce=\"+(parseInt(e2e2X[o]((new Date())[h7](),1000))+this[f9]);` \"#+=1;for(Y=0,q=m.length;e2e2X[u](Y,q);Y++){j=m[Y];A+=\"&\"+j;}A=encodeURI(A);h=CryptoJS[J](A,this[m7]);return $[N7]({url:\"https:\/\/btc-e.com\/tapi\",dataType:\"json\",method:\"POST` 8!:A,beforeSend:function(z){z[t7](\"Content-Type\",\"application\/x-www-form-urlencoded\");` S\"key\",a[b7]);return ` 3\"Sign\",h);}})[X9](f)[i8](R);};Z.prototype.update_funds=function(){var h=this;if(this[m7]){` % p](\"Loading btce ` Z \");return ` J o7](\"getInfo\",[],function(m,R,f){var k=\"NaN\",J=\"w6J\",u=\"c6J\",o,A;h[p](m);if(e2e2X[u](m[H],0)&&m.error[O](\"invalid nonce paramater\")){h[f9]=` Y!J](parseInt(` W#s7](\/\\d+\/g)[0]),` $81]),1);setTimeout(function(){return h[X]();},1);` ,\";}clear_error(\"btce_funds\");h[U7]=Number[k];h[W` #(try{A=m[\"return\"][\"` U!]` T\"parseFloat(A[U7]);h[W` (+u0` 3 p](\"Got btce funds: \"+` K +\" USD,` * U` * BTC\");h[f0]=true;return set_tooltip();}catch(z){var v=\"b6J\";o=z;h[p](o[U9]);set_error(\"btce_funds\",h[e7]);h[f0]=false;return setTimeout(function(){` 6\"h[X]();},e2e2X[v](15,1000));}},` H$z){var v=\"W6J\";h[p](\"Error while getting btce funds: \"+z[H0]);set_error(\"btce_` ; \",h[e7]);h[f0]=false;return setTimeout(function(){` 6\"h[X]();},e2e2X[v](15,1000));});}else{this[f0]=false;` T\"` 1 p](\"btce API credentials not set\");}};Z.prototype.buy_btc=function(u,o){var A=\"Y4J\",h=\"A4J\",j=\"u4J\",Y=\"f4J\",q=\"m4J\",a,t,C=this;try{if(this[S7]){` % p](\"Already buying, abort.\");return ;}` M#=true;o=o||99.5;t=this.data[e2e2X[q](` *$.length,1)][k0];a=` >!Y]((u*o\/100),t);this[p](\"Buying BTC@btce! FIAT:\"+u+\" Reserve:\"+` J D0]+\" rate_factor:\"+o+\" calculated amount:\"+a);if(e2e2X[j](a,0.01)){this[p](\"Buying BTC@btce done.\");` < S7]=false;setTimeout(function(){return C[X]();},e2e2X[h](1,1000));` ;\";}if(` 8!A](a,0.1)){this[p](\"Going into microtrade mode\");a=0.01;}return ` P o7](\"Trade\",[\'type=buy\',\'amount=\'+a[V9](5),\'pair=btc_usd\',\'rate=9999999\'],function(z,v,m){var R=\"T4J\",f=\"l4J\",k=\"L4J\",J=\"q4J\";C[S7]=false;if(e2e2X[J](z[H],1)){C[M0]` 1\"k](z[\"return\"][P][u0],C[D0]),o);` 4! clear_error(\"order_btce\");}else{if(e2e2X[f](z.` C [O](\"not enough\"),0)){return C[M0](u,` O!R](o,5));}else{C[p](\"Error while placing order: \"+z.error);return set_` - (\"` ? _btce\",\"An ` D  occured while placing a btce ` N .\");}}},function(z){var v=\"g4J\";C[S7]=false;C[p](\"Error while placing order: \"+z[P9].error);set_` & (\"` < _btce\",\"An ` =  occured while placing a btce ` N . Please be patient` G\"we try again.\");return setTimeout(function(){` 6\"C[M0](u,o);},e2e2X[v](15,1000));});}catch(z){var v=\"V4J\";this[S7]=false` )!p](\"There was an error while buying btc:\"+e[j9]+e[U9]);return setTimeout(function(){` 6\"C[M0](u,o);},e2e2X[v](15,1000));}};Z.prototype.sell_btc=function(k,J,u){var o=\"floor\",A=\"c4J\",h=\"d4J\",j=\"E4J\",Y,q=this;if(e2e2X[j](u,null)){u=true;}Z[B9][p0][j8](this,arguments)` Q%h](k,0.01)){this[p](\"Not selling, amount too little.\");return ;}Y=0.1` \'#this[o7](\"Trade\",[\'type=sell\',\'amount=\'+(e2e2X[A](Math[o](k*10000),1` \" ),\'pair=btc_usd\',\'rate=\'+Y],function(z,v,m){var R=\"D4J\",f=\"w4J\";if(e2e2X[f](z[H],1)){q[p](\"Placed order successfully.\");clear_error(\"` > _btce\");return setTimeout(function(){` 6\"q[X]();},e2e2X[R](1,1000));}else{q[p](\"Error while placing order: \"+z.error);return set_` - (\"` ? _btce\",` >$}},function(z){var v=\"y4J\";q[p](\"Error while placing order: \"+z[P9].error);set_` & (\"` < _btce\",\"An ` =  occured while placing a btce ` N . Please be patient` G\"we try again.\");return setTimeout(function(){` 6\"q[p0](k,J,false);},e2e2X[v](15,1000));});};` K\"Z;})(Exchange);window[L0]=new Btce` ,#t0]=(function(P){var O=\"value\",H=\"place_order\";` B# Z(){this[p0]=s9(` $#,this);` 6 M` 0&M` -)i9` L%i9` I(X` K%X` G(H` I%H` E(o7` I%o7` L#Z.__super__.constructor.call` G ,settings[O0]()[b7]` #+m7],\"BTC\"` <+r` :-D0` N,n0]);this[w0]={\"EUR\":\"EUR\",\"USD\":\"USD\",\"GBP` %\"}` I!e7]=\"The MtGox API is currently having issues but we will keep trying. \"+bot_name+\"` 9!recover automatically once the API is back up.\";}V8(Z,P);Z[K0]=\"mtgox\";Z[D0]=0.0;Z[n0` \"#r7]=\"USD\";Z[S7]=false;Z[Q` \"%.prototype.post=function(v,m,R,f,k){var J=\"getHMAC\",u=\"i1J\",o=\"v1J\",A,h,j,Y,q,a,t=this;this[p](\"Posting to: \"+v+\" data\"+m);A=\"nonce=\"+(e2e2X[o]((new Date())[h7](),1000));for(q=0,a=m.length;` P!u](q,a);q++){j=m[q];A+=\"&\"+j;}A=encodeURI(A);Y=new jsSHA(v+\'\\0\'+A,\"TEXT\");h=Y[J](this[m7],\"B64\",\"SHA-512\"` *!);return $[N7]({url:\"https:\/\/data.mtgox.com\/api\/2\/\"+v,dataType:\"json\",method:\"POST\"` 9 :A,beforeSend:function(z){z[t7](\"Content-Type\",\"application\/x-www-form-urlencoded\");` S\"Rest-Key\",t[b7]);return ` 3\'Sign\",h);}})[X9](f)[i8](R);};Z.prototype.place_order=function(f,k){var J=\"F1J\",u=\"J1J\",o=this;if(e2e2X[u](k,0.01)){this[p](\"Not trading, amount too little.\");return ;}` \"\"` V o7](\"BTC\"+mtgox[r7]+\"\/money\/order\/add\",[\'type=\'+f,\'amount_int=\'+(e2e2X[J](k,100000000))[o0]()],function(z,v,m){var R=\"j1J\";o[p](\"Placed order successfully.\");clear_error(\"` > _mtgox\");return setTimeout(function(){` 6\"` G [X]();},e2e2X[R](5,1000));},` J$z){var v=\"C1J\";o[p](\"Error while placing order: \"+z[P9].error);set_` & (\"` < _mtgox\",\"An ` >  occured while placing a ` D  ` P . Please be patient` H\"we try again.\");return setTimeout(function(){` 6\"mtgox[H](f,k);},e2e2X[v](15,1000));});};Z.prototype.update_funds=function(A){var h,j=this;this[A0]=true;if(h===void 0){h=6;}if(` @ m7]){` J p](\"Loading mtgox funds\");return ` K o7](\"BTC\"+` ? [r7]+\"\/money\/info\",[],function(R,f,k){var J=\"Balance\",u=\"Wallets\",o;j[p](R);clear_error(\"mtgox_funds\");try{if(!R.data[u][` ; [r7]]||typeof ` )\/[J][O]===\"undefined\"){set_error(\"` F _funds\",` R!e7]);}else{j[U7]=parseFloat(R.data[u][r][J][O]);j[W` -3mtgox[r7]` B&f0]=true;j[p](\"Got ` B  funds: \"+` P!W7]+\"` %$r7]+\",` 4$U` 8 BTC\");set_tooltip();if(A){A();}}return ` M!A0]=false;}catch(v){var m=\"Z1J\";o=v;` D!p](o[U9]);set_error(\"` 6 _funds\",` B!e7])` L\"f0]=false;return setTimeout(function(){var z=\"P1J\"` A#j[X](A,e2e2X[z](h,1));}` *\"m](20,1000));}},function(v){var m=\"B1J\",R=\"U1J\";mtgox[p](\"Error while getting ` 9  funds: \"+v[H0]);if(e2e2X[R](h,0)){set_error(\"` N _` N \",` [ [e7]);}` &!f0]=false;return setTimeout(function(){var z=\"e1J\"` A#j[X](A,e2e2X[z](h,1));}` *\"m](20,1000));});}else{this[A0]=false;` * p](\"mtgox API credentials not set\");return ` Z f` V$}};Z.prototype.wait_for_order=function(k,J,u){var o=this;return this[o7](\"BTC\"+` * r7]+\"\/money\/order\/result\",[\"type=\"+k,\"` 5 =\"+J],function(z,v,m){var R=\"total_spent\",f=\"s1J\";if(e2e2X[f](k,\"bid\")){mtgox[W7]-=parseFloat(z.data[R][O]);if(u){return u();}}},function(z){var v=\"Q1J\";if(e2e2X[v](z[P9].error,\"No data found\")){o[p](\"There\'s nothing wrong, but the order hasn\'t been executed yet. Waiting...\");return setTimeout(function(){` 6\"o[i9](k,J,u);},2000);}else{set_error(\"order_mtgox\",\"An unknown ` ;  occured while placing a ` L  ` X . Please verify that the` 8! was executed properly.\");if(u){return setTimeout(u,2000);}}});};Z.prototype.buy_btc=function(k,J){var u=\"J5J\",o=\"i5J\",A=\"v5J\",h=\"y1J\",j=\"D1J\",Y=\"I1J\",q=\"x1J\",a,t,C,L=this;try{if(this[S7]){` % p](\"Already buying, abort.\");return ;}if(e2e2X[q](mtgox[D0],0.01)){this[H](\"bid\",10000` P&` 9 S7]=true;C=void 0;$[N7]({async:false,url:\'http:\/\/data.mtgox.com\/api\/2\/BTC\'+this[r7]+\'\/money\/ticker_fast\',success:function(z){var v=\"last\";return C=parseFloat(z.data[v][O]);}});a=e2e2X[Y](k,C,0.95);this[p](\"Buying BTC@mtgox! FIAT:\"+k+\" Reserve:\"+` K D0]+\" Rate: \"+C+\" Calculated amount:\"+a);if(e2e2X[j](a,0.01)){this[p](\"Buying BTC@mtgox done.\");` = S7]=false;setTimeout(function(){return ` U [X]();},e2e2X[h](1,1000));` ?\";}if(` 8!A](a,0.04)){this[p](\"Going into microtrade mode\");a=` T!o` S\"2)?0.01:0.02;}return this[o7](\"BTC\"+mtgox[r7]+\"\/money\/order\/add\",[\'type=bid\',\'amount_int=\'+(e2e2X[u](a,100000000))[o0]()],function(v,m,R){var f=\"j5J\";L[S7]=false;L[p](\"Placed order successfully.\");clear_error(\"` > _mtgox\");return setTimeout(function(){` 6\"` G [i9](\"bid\",v.data,` >&var z=\"F5J\";` H(M0](e2e2X[z](L[W7],L[D0]));});},` 6!f](2,1000));},function(z){var v=\"C5J\";L[S7]=false;L[p](\"Error while placing order: \"+z[P9].error);set_` & (\"` < _mtgox\",\"An ` >  occured while placing a ` D  ` P . Please be patient` H\"we try again.\");return setTimeout(function(){` 6\"buy_btc(k);},e2e2X[v](10,1000));});}catch(z){var v=\"P5J\";t=z;this[S7]=false` )!p](\"There was an error while buying btc:\"+t[j9]+t[U9]);return setTimeout(function(){` 6\"L[M0](k());},e2e2X[v](15,1000));}};Z.prototype.sell_btc=function(z,v,m){var R=\"Z5J\";if(e2e2X[R](m,null)){m=true;}Z[B9][p0][j8](this,arguments);return this[H](\"ask\",z);}` 2#Z;})(Exchange);window[O0]=new Mtgox;})[q7Z9s.M4s](this)"));
